<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Parmar Sir ❣️</title>
  <link rel="stylesheet" href="style.css">
  <!-- FontAweome CDN Link for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />

  <script src="/script.js">
    /script.js
  </script>




  <style>
    * {
      user-select: none;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Poppins", sans-serif;

      background-repeat: no-repeat;

      background-color: #e0e5ec;
      width: 90%;

    }

    ::selection {
      color: #fff;
      background: #007bff;
    }


    .quiz_box.activeQuiz,
    .result_box.activeResult {
      opacity: 1;
      z-index: 5;
      pointer-events: auto;

    }

    .start_btn {
      margin-top: 100px;
      margin-left: 30%;

    }



    button {
      font-size: 1.3em;
      padding: 0.5em 1.8em;
      border-radius: 0.2em;
      box-shadow: 0.3rem 0.3rem 0.5rem rgba(195, 193, 198, 0.9), -0.2rem -0.2rem 0.4rem #fff;

    }


    .quiz_box {
      width: 99vw;
      border-radius: 5px;
      margin-top: 20px;
      opacity: 0;
      margin-top: -50px;

      pointer-events: none;
      transition: all 0.7s ease;

    }


    .quiz_box header {
      position: relative;
      z-index: 2;
      height: 70px;
      padding: 0 30px;
      border-radius: 5px 5px 0 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0px 3px 5px 1px rgba(0, 0, 0, 0.1);
    }


    .quiz_box header .title {
      font-size: 15px;
      font-weight: 600;
    }


    .quiz_box header .timer {
      color: #004085;
      background: #cce5ff;
      border: 1px solid #b8daff;
      height: 45px;
      padding: 0px 5px;
      border-radius: 5px;
      display: flex;
      align-items: center;
      justify-content: space-between;

    }


    .quiz_box header .timer .time_left_txt {
      font-weight: 400;
      font-size: 15px;
      user-select: none;
    }

    .quiz_box header .timer .timer_sec {
      font-size: 18px;
      font-weight: 500;
      width: 45px;
      color: #fff;
      border-radius: 5px;
      line-height: 30px;
      text-align: center;
      background: #343a40;
      border: 1px solid #343a40;
      user-select: none;
      margin-left: 7px;
    }

    .quiz_box header .time_line {
      position: absolute;
      bottom: 0px;
      left: 0px;
      height: 3px;
      background: #007bff;
      width: 90vw;
      margin-left: 3vw;
      border-radius: 4px;
    }

    section {
      padding: 25px 30px 20px 30px;
    }

    section .que_text {
      font-size: 22px;
      line-height: 31px;
      font-family: Georgia, 'Times New Roman', Times, serif;



    }

    section .option_list {
      padding: 20px 0px;
      display: block;
    }

    section .option_list .option {
      background: aliceblue;

      border-radius: 5px;
      padding: 10px 15px;
      font-size: 17px;
      margin-bottom: 15px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 0.9em;
      width: 100%;
      padding: 1em;
      margin: 1.7em 0;
      text-align: left;
      outline: none;



      box-shadow: 0.3rem 0.3rem 0.5rem rgba(195, 193, 198, 0.9),
        -0.2rem -0.2rem 0.4rem #fff;
      background: white;


      border-radius: 0.6em;
    }

    section .option_list .option:last-child {
      margin-bottom: 0px;
    }


    section .option_list .option.correct {
      color: #155724;
      background: #d4edda;
    }

    section .option_list .option.incorrect {
      color: #721c24;
      background: #f8d7da;
    }

    section .option_list .option.disabled {
      pointer-events: none;
    }


    section .option_list .option .icon {
      height: 26px;
      width: 26px;
      border: 2px solid transparent;
      border-radius: 50%;
      text-align: center;
      font-size: 13px;
      pointer-events: none;
      position: absolute;
      right: 52px;

    }

    .option_list .option .icon.tick {
      color: #23903c;
      border-color: #23903c;
      background: #d4edda;
      padding-top: 5px;


    }

    .option_list .option .icon.cross {
      color: #a42834;
      background: #f8d7da;
      border-color: #a42834;
      padding-top: 5px;

    }

    footer {
      height: 60px;
      padding: 0 30px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-top: 1px solid lightgrey;
    }

    footer .total_que span {
      display: flex;
      user-select: none;
    }

    footer .total_que span p {
      font-weight: 500;
      padding: 0 5px;
    }

    footer .total_que span p:first-child {
      padding-left: 0px;
    }

    footer button {
      height: 40px;
      padding: 0 13px;
      font-size: 18px;
      font-weight: 400;
      cursor: pointer;
      border: none;
      outline: none;
      color: #fff;
      border-radius: 5px;
      background: #007bff;
      border: 1px solid #007bff;
      line-height: 10px;
      opacity: 0;
      pointer-events: none;
      transform: scale(0.95);
      transition: all 0.3s ease;
    }

    footer button:hover {
      background: #0263ca;
    }

    footer button.show {
      opacity: 1;
      pointer-events: auto;
      transform: scale(1);
    }

    .result_box {
      display: flex;
      padding: 25px 30px;
      width: 99vw;
      align-items: center;
      flex-direction: column;
      justify-content: center;
      margin-top: -60vh;
      opacity: 0;
      margin-left: ;
      pointer-events: none;
      transition: all 0.3s ease;
    }

    .result_box .icon {
      font-size: 100px;
      color: #007bff;
      margin-bottom: 10px;
    }

    .result_box .complete_text {
      font-size: 20px;
      font-weight: 500;
    }

    .result_box .score_text span {
      display: flex;
      margin: 10px 0;
      font-size: 18px;
      font-weight: 500;
    }

    .result_box .score_text span p {
      padding: 0 4px;
      font-weight: 600;
    }


    .result_box .buttons button {
      margin: 0 10px;
      height: 45px;
      padding: 0 20px;
      font-size: 18px;
      font-weight: 500;
      cursor: pointer;
      border: none;
      outline: none;
      border-radius: 5px;
      border: 1px solid #007bff;
      transition: all 0.3s ease;
    }


    .buttons button.quit {
      color: #007bff;
      background: #fff;
    }

    .buttons button.quit:hover {
      color: #fff;
      background: #007bff;
    }


    .startbutton {
      color: black;
      background: white;
      border: none;

    }

    #dark-mode-toggle:after {
      content: "dark";
    }
  </style>



  <style>
    input,
    textarea,
    button,
    select,
    a {
      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    }

    a:focus,
    a:visited,
    a:active {
      outline: none;
    }

    * {
      -webkit-tap-highlight-color: transparent;
    }



    * .dark-mode {
      box-sizing: border-box;
    }

    /* Dark mode styles */
    body.dark-mode {
      background: black;
      color: #fff;
      background: #1e1e1e;
      background-color: #121212;
      color: #e0e0e0;

    }

    .dark-mode button {
      box-shadow: 0.3rem 0.3rem 0.5rem rgba(15, 13, 18, 0.49), -0.2rem -0.2rem 0.4rem dimgrey;

    }


    .dark-mode .option_list .option {
      background: black;
      border: 0.6px dashed silver;
      box-shadow: none;
      padding: 0.97em;

      cursor: pointer;

      background-color: #333;
      color: #fff;
      border: none;
      border-radius: 8px;
      transition: background-color 0.3s, transform 0.2s, box-shadow 0.2s;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);

      background-color: #171717;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.7);
      border: 0.4px solid black;
      color: #e0e0e0;
    }


    .dark-mode .startbutton {
      background: #333;

      color: white;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);

    }

    .dark-mode #dark-mode-toggle {
      background: black;
      box-shadow: none;
      color: white;
    }



    .dark-mode .quiz_box header {
      box-shadow: 0px 3px 5px 1px rgba(255, 255, 255, 0.15);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);

    }



    .dark-mode #dark-mode-toggle:after {
      content: "Light";
    }


    .dark-mode .quiz_box header .timer {
      color: white;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);

      background: #191919;
      border: none;
    }

    .dark-mode .next_btn {
      background: #202020;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
      border: none;
    }



    .dark-mode .buttons button.quit {
      color: white;
      background: #5E6168;
      border: none;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);

    }
  </style>





</head>

<body>
  <!-- start Quiz button -->
  <div class="start_btn"><button class="startbutton">Start Quiz</button></div>

  <!-- Quiz Box -->
  <div class="quiz_box">
    <header>
      <div class="title">PYQ-4ㅤLec-30 </div>
      <button style="padding: 3px; font-size: 10px; border: 1px solid gray;" id="dark-mode-toggle"></button>

      <div class="timer">
        <div class="time_left_txt">Time Left</div>
        <div class="timer_sec">15</div>
      </div>
      <div class="time_line"></div>
    </header>


    <section>
      <div class="que_text">
        <!-- Here I've inserted question from JavaScript -->
      </div>
      <div class="option_list">
        <!-- Here I've inserted options from JavaScript -->
      </div>
    </section>

    <!-- footer of Quiz Box -->
    <footer>
      <div class="total_que">
        <!-- Here I've inserted Question Count Number from JavaScript -->
      </div>
      <button class="next_btn">Next ➜</button>
      
    
      
      
    </footer>
  </div>

  <!-- Result Box -->
  <div class="result_box">
    <div class="icon">

    </div>
    <div class="complete_text"> You've completed the Quiz!</div>
    <div class="score_text">
      <!-- Here I've inserted Score Result from JavaScript -->
    </div>
    
            <button id="replay" onclick="resultShow()">See Result</button>

    <div class="buttons">
  <button class="review_btn" onclick="showReviewQuestions()">Review Questions</button>
</div>

    <div class="buttons">
      <button class="quit">Quit Quiz</button>
    </div>
  </div>







<script>
  let questions = [
  

{
  question: "Which part of the computer is called its brain?",
  answer: "CPU",
  options: [ "CPU", "Monitor", "Hard Disc", "ROM" ]
},







{
  question: "Who is the author of ❝ 𝐑𝐚𝐣𝐚𝐭𝐚𝐫𝐚𝐧𝐠𝐢𝐧𝐢 राजतरंगणी ❞  ?",
  answer: "Kalhana",
  options: [ "Kalidas", "Sudraka", "Kalhana", "Ashtadhyayi" ]
},
    
    
    
  ];

  // Store the answered questions for review
  let answeredQuestions = [];

  // Modified optionSelected function to store answered questions



</script>




  <script>
    //selecting all required elements
    const start_btn = document.querySelector(".start_btn button");


    const quiz_box = document.querySelector(".quiz_box");

    const result_box = document.querySelector(".result_box");

    const option_list = document.querySelector(".option_list");

    const time_line = document.querySelector("header .time_line");

    const timeText = document.querySelector(".timer .time_left_txt");

    const timeCount = document.querySelector(".timer .timer_sec");









    // if startQuiz button clicked

    start_btn.onclick = () => {

      quiz_box.classList.add("activeQuiz"); //show quiz box

      showQuetions(0); //calling showQestions function

      queCounter(1); //passing 1 parameter to queCounter
      startTimer(15); //calling startTimer function
      startTimerLine(0); //calling startTimerLine function

      start_btn.style.display = "none";
    };





    let timeValue = 15;
    let que_count = 0;
    let que_numb = 1;
    let userScore = 0;
    let counter;
    let counterLine;
    let widthValue = 0;


    const quit_quiz = result_box.querySelector(".buttons .quit");









    // if quitQuiz button clicked
    quit_quiz.onclick = () => {
      window.location.reload(); //reload the current window
    };





    const next_btn = document.querySelector("footer .next_btn");


    const bottom_ques_counter = document.querySelector("footer .total_que");





    next_btn.onclick = () => {
      if (que_count < questions.length - 1) {
        que_count++; 
        que_numb++; 
        showQuetions(que_count); 
        queCounter(que_numb); 
        clearInterval(counter); 
        clearInterval(counterLine); 
        startTimer(timeValue); 
        startTimerLine(widthValue); 
        timeText.textContent = "Time Left"; 
        next_btn.classList.remove("show"); 
      } else {
        clearInterval(counter); //clear counter
        clearInterval(counterLine); //clear counterLine
        showResult(); //calling showResult function
      }
    };







    // getting questions and options from array
    function showQuetions(index) {
      const que_text = document.querySelector(".que_text");

      //creating a new span and div tag for question and option and passing the value using array index
      let que_tag =
        "<span>" + "Q" +


        (index + 1) + " :  "


        +
        questions[index].question +
        "</span>";
      let option_tag =
        '<div class="option"><span>' +
        questions[index].options[0] +
        "</span></div>" +
        '<div class="option"><span>' +
        questions[index].options[1] +
        "</span></div>" +
        '<div class="option"><span>' +
        questions[index].options[2] +
        "</span></div>" +
        '<div class="option"><span>' +
        questions[index].options[3] +
        "</span></div>";
      que_text.innerHTML = que_tag; //adding new span tag inside que_tag
      option_list.innerHTML = option_tag; //adding new div tag inside option_tag

      const option = option_list.querySelectorAll(".option");

      // set onclick attribute to all available options
      for (i = 0; i < option.length; i++) {
        option[i].setAttribute("onclick", "optionSelected(this)");
      }
    }


    // creating the new div tags which for icons
    let tickIconTag = '<div class="icon tick"><i class="fas fa-check"></i></div>';
    let crossIconTag = '<div class="icon cross"><i class="fas fa-times"></i></div>';




    // Global variables
    let currentIndex = 0; // To keep track of the current question index

    // Function to initialize quiz
    function initializeQuiz() {
      shuffleQuestions(); // Shuffle the questions array initially (optional)
      showQuestions();
    }

    // Function to shuffle questions array (optional)
    function shuffleQuestions() {
      for (let i = questions.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
    [questions[i], questions[j]] = [questions[j], questions[i]];
        // Shuffle options within each question
        questions[i].options = shuffleArray(questions[i].options);
      }
    }


    // Function to shuffle array (Fisher-Yates shuffle algorithm)
    function shuffleArray(array) {
      let shuffledArray = array.slice(); // Create a copy of the array
      for (let i = shuffledArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
    [shuffledArray[i], shuffledArray[j]] = [shuffledArray[j], shuffledArray[i]];
      }
      return shuffledArray; // Return shuffled array
    }

    // Function to handle option selection
    function optionSelected(answer) {
      clearInterval(counter); // Clear any ongoing timers
      clearInterval(counterLine); // Clear any progress bar

      let userAns = answer.textContent.trim(); // Get user selected option
      let correctAns = questions[currentIndex].answer.trim(); // Get correct answer


      // Increment index for the next question
      currentIndex++;
    }





    // Example usage:
    initializeQuiz(); // Call this function to start the quiz






    function showResult() {
      quiz_box.classList.remove("activeQuiz"); //hide quiz box
      result_box.classList.add("activeResult"); //show result box
      const scoreText = result_box.querySelector(".score_text");

      if (userScore > 3) {
        // if user scored more than 3
        //creating a new span tag and passing the user score number and total question number
        let scoreTag =
          "<span> You got <p>" +
          userScore +
          "</p> out of <p>" +
          questions.length +
          "</p></span>";
        scoreText.innerHTML = scoreTag; //adding new span tag inside score_Text
      } else if (userScore > 1) {
        // if user scored more than 1
        let scoreTag =
          "<span> You got <p>" +
          userScore +
          "</p> out of <p>" +
          questions.length +
          "</p></span>";
        scoreText.innerHTML = scoreTag;
      } else {
        // if user scored less than 1
        let scoreTag =
          "<span>You got <p>" +
          userScore +
          "</p> out of <p>" +
          questions.length +
          "</p></span>";
        scoreText.innerHTML = scoreTag;
      }
    }



    // Function to start the timer
    function startTimer(time) {
      let milliseconds = 990; // Start milliseconds at 990 (10 milliseconds before 1000)
      // Set initial time display immediately
      updateTimeDisplay(time, milliseconds);

      counter = setInterval(timer, 10); // Update every 10 milliseconds

      function timer() {
        milliseconds -= 10; // Decrement milliseconds
        if (milliseconds < 0) { // If milliseconds drop below 0
          milliseconds = 990; // Reset milliseconds
          time--; // Decrement seconds
        }

        if (time < 0) { // If time is less than 0
          clearInterval(counter); // Clear timer
          time = 0; // Ensure time is set to 0
          milliseconds = 0; // Ensure milliseconds are set to 0
          updateTimeDisplay(time, milliseconds); // Update display to show 00.0
          timeText.textContent = "Time Off"; // Update time text
          const allOptions = option_list.children.length; // Get all options
          let correctAns = questions[que_count].answer; // Get correct answer
          for (let i = 0; i < allOptions; i++) {
            if (option_list.children[i].textContent.trim() === correctAns) {
              option_list.children[i].classList.add("correct");
              option_list.children[i].insertAdjacentHTML("beforeend", tickIconTag);
              console.log("Time Off: Auto selected correct answer.");
            }
          }
          // Disable all options after time runs out
          for (let i = 0; i < allOptions; i++) {
            option_list.children[i].classList.add("disabled");
          }
          next_btn.classList.add("show"); // Show Next button
        } else {
          updateTimeDisplay(time, milliseconds); // Update the display
        }
      }
    }

    // Function to update the time display
    function updateTimeDisplay(seconds, milliseconds) {
      let displaySeconds = seconds < 10 ? `0${seconds}` : seconds;
      let displayMilliseconds = Math.floor(milliseconds / 100); // Convert milliseconds to a single digit (0-9)

      timeCount.textContent = `${displaySeconds}:${displayMilliseconds}`; // Update the time display
    }

    function startTimerLine(time) {
      counterLine = setInterval(timer, 44);

      function timer() {
        time += 1; // upgrading time value with 1
        time_line.style.width = (time / 360) * 93.5 + "vw"; // setting width relative to time
        if (time > 360) {
          clearInterval(counterLine); // clear counterLine
        }
      }
    }

    function queCounter(index) {
      //creating a new span tag and passing the question number and total question
      let totalQueCounTag =
        "<span><p>" +
        index +
        "</p> of <p>" +
        questions.length +
        "</p> Questions</span>";
      bottom_ques_counter.innerHTML = totalQueCounTag; //adding new span tag inside bottom_ques_counter
    }
  </script>







<script>
  



function showReviewQuestions() {
  // Ensure answeredQuestions is populated
  if (answeredQuestions.length === 0) {
    console.error("No answered questions to review.");
    return;
  }

  que_count = 0; // Start from the first question
  quiz_box.classList.add("activeQuiz"); // Show quiz box for review
  result_box.classList.remove("activeResult"); // Hide result box

  showAnsweredQuestion(que_count); // Show the first answered question
}

function optionSelected(answer) {
  clearInterval(counter); // Clear any ongoing timers
  clearInterval(counterLine); // Clear any progress bar

  let userAns = answer.textContent.trim(); // Get user selected option
  let correctAns = questions[que_count].answer.trim(); // Get correct answer from array
  const allOptions = option_list.children.length; // Get all option items

  let isCorrect = userAns === correctAns; // Check if the answer is correct
  answeredQuestions.push({
    question: questions[que_count].question,
    userAnswer: userAns,
    correctAnswer: correctAns,
    correct: isCorrect
  });

  if (isCorrect) {
    // Handle correct answer logic
    userScore += 1; // Increase score
    answer.classList.add("correct"); // Add correct class
    answer.insertAdjacentHTML("beforeend", tickIconTag); // Add tick icon to selected option
    console.log("Correct Answer");
  } else {
    // Handle incorrect answer logic
    answer.classList.add("incorrect"); // Add incorrect class
    answer.insertAdjacentHTML("beforeend", crossIconTag); // Add cross icon to selected option
    console.log("Wrong Answer");

    // Highlight the correct answer
    for (let i = 0; i < allOptions; i++) {
      if (option_list.children[i].textContent.trim() === correctAns) {
        option_list.children[i].classList.add("correct");
        option_list.children[i].insertAdjacentHTML("beforeend", tickIconTag);
      }
    }
  }

  // Disable all options after selection
  for (let i = 0; i < allOptions; i++) {
    option_list.children[i].classList.add("disabled");
  }

  next_btn.classList.add("show");
}




function showAnsweredQuestion(index) {
  if (index < 0 || index >= answeredQuestions.length) {
    console.error("Invalid question index.");
    return;
  }

  const que_text = document.querySelector(".que_text");
  const option_list = document.querySelector(".option_list");

  const question = questions.find(q => q.question === answeredQuestions[index].question);

  if (!question) {
    console.error("Question not found.");
    return;
  }

  const userAnswer = answeredQuestions[index].userAnswer;
  const correctAnswer = answeredQuestions[index].correctAnswer;
  
  let que_tag =
    `<span>Q${index + 1}: ${answeredQuestions[index].question}</span>`;

  // Create options HTML for all four options
  let option_tags = question.options.map(option => {
    let className = '';
    if (option === correctAnswer) {
      className = 'correct';
    } else if (option === userAnswer) {
      className = 'incorrect';
    }
    return `<div class="option ${className}"><span>${option}</span></div>`;
  }).join('');

  que_text.innerHTML = que_tag;
  option_list.innerHTML = option_tags;

  // Update the next button to move through questions
  next_btn.onclick = () => {
    if (index < answeredQuestions.length - 1) {
      showAnsweredQuestion(index + 1); // Show the next question
    } else {
      result_box.classList.add("activeResult"); // Show result box again after review
      quiz_box.classList.remove("activeQuiz"); // Hide quiz box
    }
  };

  next_btn.classList.add("show");
}

</script>
</body>
